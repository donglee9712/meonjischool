<!-- 아임웹 HTML 위젯에 그대로 붙여넣기용 (HTML+CSS 한 번에) -->
<style>
  .meonji-wireframe-cards {
    --bg: #ffffff;
    --stroke: #e6e6e6;
    --shadow: 0 34px 63px rgba(0, 0, 0, 0.14), 0 10px 22px rgba(0, 0, 0, 0.08);
    --radius: clamp(24px, 3.2vw, 56px);
    --card-w: clamp(220px, 28vw, 360px);
    --card-h: calc(var(--card-w) * 1.55);
    --bottom-cut: clamp(120px, 14vw, 210px);
    --lift: clamp(18px, 2.4vw, 34px);
    width: 100%;
    max-width: 1400px;
    margin: 0 auto;
    height: clamp(260px, 36vw, 430px);
    position: relative;
    overflow: hidden;
    background: var(--bg);
    perspective: 900px;
    perspective-origin: 50% 55%;
  }

  .meonji-wireframe-cards,
  .meonji-wireframe-cards *,
  .meonji-wireframe-cards *::before,
  .meonji-wireframe-cards *::after {
    box-sizing: border-box;
  }

  .meonji-wireframe-cards__stack {
    position: absolute;
    inset: 0;
    transform: translateY(10%) scale(0.92);
    transform-origin: 50% 80%;
  }

  .meonji-wireframe-cards.is-animating .meonji-wireframe-cards__stack {
    transition: transform 1650ms cubic-bezier(0.22, 1, 0.36, 1);
  }

  .meonji-wireframe-card {
    --tx: 0px;
    --ty: 0px;
    --rot: 0deg;
    --z: 1;
    --scale: 1;
    --tilt-x: 0deg;
    --tilt-y: 0deg;
    --pan-x: 0px;
    --pan-y: 0px;

    position: absolute;
    left: 50%;
    bottom: calc(var(--bottom-cut) * -1);
    width: var(--card-w);
    height: var(--card-h);
    border-radius: var(--radius);
    border: 2px solid var(--stroke);
    background: var(--bg);
    box-shadow: var(--shadow);
    overflow: hidden;
    transform-origin: 50% 85%;
    transform:
      translateX(calc(-50% + var(--tx)))
      translateY(var(--ty))
      rotate(var(--rot))
      scale(var(--scale))
      translate3d(var(--pan-x), var(--pan-y), 0)
      rotateX(var(--tilt-x))
      rotateY(var(--tilt-y));
    z-index: var(--z);
    transform-style: preserve-3d;
    will-change: transform;
    transition: transform 160ms ease, box-shadow 160ms ease;
  }

  .meonji-wireframe-cards.is-ready:not(.is-visible) .meonji-wireframe-card {
    pointer-events: none;
    --tx: 0px;
    --ty: calc(var(--card-h) * 0.55);
    --rot: 0deg;
    --scale: 0.96;
  }

  .meonji-wireframe-cards.is-ready:not(.is-visible) .meonji-wireframe-cards__stack {
    transform: translateY(42%) scale(0.9);
  }

  .meonji-wireframe-cards.is-visible .meonji-wireframe-card {
    pointer-events: auto;
  }

  .meonji-wireframe-cards.is-animating .meonji-wireframe-card {
    transition: transform 1650ms cubic-bezier(0.22, 1, 0.36, 1), box-shadow 160ms ease;
  }

  .meonji-wireframe-cards.is-animating .meonji-wireframe-card--far-left {
    transition-delay: 0ms;
  }

  .meonji-wireframe-cards.is-animating .meonji-wireframe-card--left {
    transition-delay: 99ms;
  }

  .meonji-wireframe-cards.is-animating .meonji-wireframe-card--center {
    transition-delay: 198ms;
  }

  .meonji-wireframe-cards.is-animating .meonji-wireframe-card--right {
    transition-delay: 297ms;
  }

  .meonji-wireframe-cards.is-animating .meonji-wireframe-card--far-right {
    transition-delay: 396ms;
  }

  .meonji-wireframe-card__img {
    width: 100%;
    height: 100%;
    display: block;
    object-fit: contain;
    object-position: top center;
    border-radius: inherit;
  }

  .meonji-wireframe-card:hover {
    --scale: 1.02;
    box-shadow: 0 44px 83px rgba(0, 0, 0, 0.18), 0 14px 27px rgba(0, 0, 0, 0.12);
  }

  @media (prefers-reduced-motion: reduce) {
    .meonji-wireframe-cards__stack {
      transform: translateY(10%) scale(0.92);
    }
  }

  .meonji-wireframe-card--far-left {
    --tx: calc(var(--card-w) * -1);
    --rot: -10.5deg;
    --z: 1;
    --scale: 0.98;
  }

  .meonji-wireframe-card--left {
    --tx: calc(var(--card-w) * -0.55);
    --ty: calc(var(--lift) * -1.25);
    --rot: -6.3deg;
    --z: 2;
    --scale: 0.995;
  }

  .meonji-wireframe-card--center {
    --tx: 0px;
    --ty: calc(var(--lift) * -2.8);
    --rot: 0deg;
    --z: 4;
  }

  .meonji-wireframe-card--right {
    --tx: calc(var(--card-w) * 0.55);
    --ty: calc(var(--lift) * -1.25);
    --rot: 6.3deg;
    --z: 2;
    --scale: 0.995;
  }

  .meonji-wireframe-card--far-right {
    --tx: calc(var(--card-w) * 1);
    --rot: 10.5deg;
    --z: 1;
    --scale: 0.98;
  }

  @media (max-width: 720px) {
    .meonji-wireframe-cards {
      --card-w: 240px;
      --bottom-cut: 140px;
    }

    .meonji-wireframe-card--far-left,
    .meonji-wireframe-card--far-right {
      display: none;
    }

    .meonji-wireframe-card--left {
      --tx: calc(var(--card-w) * -0.66);
      --rot: -7.35deg;
    }

    .meonji-wireframe-card--right {
      --tx: calc(var(--card-w) * 0.66);
      --rot: 7.35deg;
    }
  }
</style>

<section class="meonji-wireframe-cards" aria-label="겹쳐진 카드 와이어프레임">
  <div class="meonji-wireframe-cards__stack" aria-hidden="true">
    <div class="meonji-wireframe-card meonji-wireframe-card--far-left">
      <img
        class="meonji-wireframe-card__img"
        src="https://cdn.imweb.me/thumbnail/20250624/148b1fd8a7ee8.png"
        alt=""
        loading="lazy"
        decoding="async"
      />
    </div>
    <div class="meonji-wireframe-card meonji-wireframe-card--left">
      <img
        class="meonji-wireframe-card__img"
        src="https://cdn.imweb.me/thumbnail/20251211/60bd992e90028.png"
        alt=""
        loading="lazy"
        decoding="async"
      />
    </div>
    <div class="meonji-wireframe-card meonji-wireframe-card--center">
      <img
        class="meonji-wireframe-card__img"
        src="https://cdn.imweb.me/thumbnail/20250623/eb8ea732b9f47.png"
        alt=""
        loading="lazy"
        decoding="async"
      />
    </div>
    <div class="meonji-wireframe-card meonji-wireframe-card--right">
      <img
        class="meonji-wireframe-card__img"
        src="https://cdn.imweb.me/thumbnail/20251218/13abbdd89b906.png"
        alt=""
        loading="lazy"
        decoding="async"
      />
    </div>
    <div class="meonji-wireframe-card meonji-wireframe-card--far-right">
      <img
        class="meonji-wireframe-card__img"
        src="https://cdn.imweb.me/thumbnail/20250102/8dbc32b1ab9b8.png"
        alt=""
        loading="lazy"
        decoding="async"
      />
    </div>
  </div>
</section>

<script>
  (() => {
    const reduceMotion = window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches;

    const sections = document.querySelectorAll(".meonji-wireframe-cards");
    sections.forEach((section) => {
      if (!section) return;
      if (reduceMotion) {
        section.classList.add("is-visible");
        return;
      }

      let revealed = false;
      const reveal = () => {
        if (revealed) return;
        revealed = true;

        section.classList.add("is-ready");
        section.classList.remove("is-visible");

        requestAnimationFrame(() => {
          requestAnimationFrame(() => {
            section.classList.add("is-visible", "is-animating");
            window.setTimeout(() => section.classList.remove("is-animating"), 2420);
          });
        });
      };

      if (!("IntersectionObserver" in window)) {
        reveal();
        return;
      }

      section.classList.add("is-ready");

      const rect = section.getBoundingClientRect();
      const viewTop = window.innerHeight * 0.15;
      const viewBottom = window.innerHeight * 0.85;
      const alreadyInView = rect.bottom > viewTop && rect.top < viewBottom;
      if (alreadyInView) {
        reveal();
        return;
      }

      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (!entry.isIntersecting) return;
            reveal();
            observer.disconnect();
          });
        },
        { threshold: 0.01 }
      );

      observer.observe(section);
    });
  })();

  (() => {
    const canHoverFine = window.matchMedia?.("(hover: hover) and (pointer: fine)")?.matches;
    const reduceMotion = window.matchMedia?.("(prefers-reduced-motion: reduce)")?.matches;
    if (!canHoverFine || reduceMotion) return;

    const cards = document.querySelectorAll(".meonji-wireframe-card");
    cards.forEach((card) => {
      if (!card) return;

      const maxTilt = 7;
      const maxPanX = 14;
      const maxPanY = 10;

      let rafId = 0;
      let isActive = false;

      const state = {
        targetX: 0,
        targetY: 0,
        currentX: 0,
        currentY: 0,
      };

      const clamp = (value, min, max) => Math.min(max, Math.max(min, value));

      const tick = () => {
        rafId = 0;
        if (!isActive && Math.abs(state.currentX) < 0.001 && Math.abs(state.currentY) < 0.001) return;

        state.currentX += (state.targetX - state.currentX) * 0.12;
        state.currentY += (state.targetY - state.currentY) * 0.12;

        const tiltY = state.currentX * maxTilt;
        const tiltX = state.currentY * -maxTilt;
        const panX = state.currentX * maxPanX;
        const panY = state.currentY * maxPanY;

        card.style.setProperty("--tilt-x", `${tiltX.toFixed(3)}deg`);
        card.style.setProperty("--tilt-y", `${tiltY.toFixed(3)}deg`);
        card.style.setProperty("--pan-x", `${panX.toFixed(3)}px`);
        card.style.setProperty("--pan-y", `${panY.toFixed(3)}px`);

        rafId = requestAnimationFrame(tick);
      };

      const schedule = () => {
        if (rafId) return;
        rafId = requestAnimationFrame(tick);
      };

      const updateFromEvent = (event) => {
        const rect = card.getBoundingClientRect();
        const x = (event.clientX - rect.left) / rect.width;
        const y = (event.clientY - rect.top) / rect.height;
        state.targetX = clamp((x - 0.5) * 2, -1, 1);
        state.targetY = clamp((y - 0.5) * 2, -1, 1);
        schedule();
      };

      card.addEventListener("pointerenter", (event) => {
        isActive = true;
        updateFromEvent(event);
      });

      card.addEventListener("pointermove", updateFromEvent);

      card.addEventListener("pointerleave", () => {
        isActive = false;
        state.targetX = 0;
        state.targetY = 0;
        schedule();
      });
    });
  })();
</script>
